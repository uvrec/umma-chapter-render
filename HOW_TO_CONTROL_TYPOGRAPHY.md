# 🎨 ЯК КЕРУВАТИ ТИПОГРАФІКОЮ НА САЙТІ

**Дата:** 2025-11-17
**Версія:** 2.0 (Уніфікована система з адаптивністю)

---

## 🎯 ВІДПОВІДЬ НА ВАШЕ ЗАПИТАННЯ

> "не побачив ніяких змін. Як мені тепер регулювати все це? є адмінка? де виставляти розміри / типи шрифтів?"

**Відповідь:** Панель налаштувань знаходиться у **правому нижньому куті** екрану! 🎛️

---

## 📍 ДЕ ЗНАХОДЯТЬСЯ КОНТРОЛІ?

### 1. **Floating Button (Плаваюча кнопка)**

**Розташування:** Правий нижній кут екрану (⚙️ Settings)

```
┌─────────────────────────────┐
│                             │
│                             │
│       Ваш контент           │
│                             │
│                       ⚙️ ←──┼─── ЦЕ КНОПКА!
└─────────────────────────────┘
```

**Дія:** Натисніть на іконку ⚙️ → відкриється панель справа

---

## 🎛️ ЩО МОЖНА РЕГУЛЮВАТИ?

### **Секція 1: Відображення тексту**

#### 📏 **Розмір шрифта**
- **Кнопки:** `[-]` та `[+]`
- **Діапазон:** від 12px до 24px
- **Як працює:**
  - Базовий розмір **АВТОМАТИЧНО** адаптується:
    - 📱 **Mobile (320-639px):** 16px
    - 📱 **Tablet (640-1023px):** 18px
    - 🖥️ **Desktop (≥1024px):** 20px
  - Ваші зміни (`+` або `-`) додаються ДО базового розміру
  - **Приклад:**
    - Desktop базовий: 20px
    - Ви натискаєте `+` двічі: 20 + 2 = **22px**
    - Змінюєте розмір вікна на планшет: 18 + 2 = **20px** (корекція зберігається!)

💡 **Інфо:** Під контролем відображається підказка про адаптивність

#### 📐 **Міжряддя (Line Height)**
- **Кнопки:** `[-]` та `[+]`
- **Діапазон:** від 1.30 до 2.00
- **Крок:** 0.05
- **Рекомендації:**
  - 1.40 - компактно
  - 1.60 - нормально (за замовчуванням)
  - 1.75 - комфортно
  - 2.00 - дуже вільно

#### 🔄 **Двомовний режим**
- **Перемикач:** ON/OFF
- **Що робить:** Показує український та англійський тексти паралельно

#### 🔢 **Показувати номери віршів**
- **Перемикач:** ON/OFF

#### 📜 **Суцільний текст (без рамок)**
- **Перемикач:** ON/OFF
- **Що робить:** Прибирає візуальні рамки між блоками

---

### **Секція 2: Елементи тексту**

Ви можете **вибірково** вмикати/вимикати частини віршу:

- ✅ **Санскрит / Деванагарі** - оригінальний текст
- ✅ **Транслітерація** - латинізація санскриту (IAST)
- ✅ **Послівний переклад** - значення кожного слова
- ✅ **Літературний переклад** - художній переклад
- ✅ **Пояснення** - детальний коментар

---

### **Секція 3: Режим неперервного читання**

**Що це?** Спеціальний режим для послідовного читання багатьох віршів

**Як увімкнути:**
1. Перемкнути "Увімкнути режим" → ON
2. Обрати, які елементи показувати в цьому режимі

---

### **Секція 4: Інші налаштування**

#### 🎨 **Тема оформлення**
- 🌙 **Dark/Light** - темна/світла тема
- 📜 **Крафт** - стилізація під папір

#### 🌍 **Мова інтерфейсу**
- 🇺🇦 Українська
- 🇬🇧 English

#### 🔄 **Скинути до початкових**
- **Кнопка:** ⟲ Скинути до початкових
- **Що робить:** Повертає ВСІ налаштування до значень за замовчуванням

---

## 🔧 ТЕХНІЧНА ДОВІДКА (для розробників)

### Як працює нова система?

```
┌─────────────────────────────────────────────────────┐
│ 1. USER CLICKS [+] BUTTON                           │
│    GlobalSettingsPanel.tsx                          │
│    → increaseFont() from useReaderSettings          │
└────────────────────┬────────────────────────────────┘
                     ↓
┌─────────────────────────────────────────────────────┐
│ 2. HOOK UPDATES STATE                               │
│    useReaderSettings.ts                             │
│    fontSizeAdjustment += 1                          │
│    fontSize = baseFontSize + fontSizeAdjustment     │
└────────────────────┬────────────────────────────────┘
                     ↓
┌─────────────────────────────────────────────────────┐
│ 3. CSS VARIABLE SYNCS                               │
│    useEffect() in useReaderSettings                 │
│    --vv-reader-font-size = 22px                     │
└────────────────────┬────────────────────────────────┘
                     ↓
┌─────────────────────────────────────────────────────┐
│ 4. ALL COMPONENTS RE-CALCULATE                      │
│    IndividualVerse.tsx, VerseCard.tsx, etc.        │
│    calc(var(--vv-reader-font-size) * 1.5)          │
│    = calc(22px * 1.5) = 33px (Sanskrit)            │
└─────────────────────────────────────────────────────┘
```

### Які файли відповідають за типографіку?

1. **`src/constants/typography.ts`** - єдине джерело правди
   - Множники: `FONT_SIZE_MULTIPLIERS`
   - Базові розміри: `BASE_FONT_SIZES`
   - Line heights: `LINE_HEIGHTS`

2. **`src/hooks/useReaderSettings.ts`** - логіка та state
   - Responsive адаптація
   - Синхронізація з localStorage
   - Експорт функцій контролю

3. **`src/components/GlobalSettingsPanel.tsx`** - UI панель
   - Візуальні контролі (кнопки +/-)
   - Перемикачі (switches)
   - Скидання налаштувань

4. **Компоненти віршів** - споживачі
   - `IndividualVerse.tsx`
   - `VerseCard.tsx`
   - `DualLanguageVerseCard.tsx`
   - `DailyQuoteBanner.tsx`

---

## 🎓 ПРИКЛАДИ ВИКОРИСТАННЯ

### Приклад 1: Збільшити шрифт для читання на телефоні

1. Відкрийте сайт на телефоні
2. Натисніть ⚙️ у правому нижньому куті
3. У секції "Розмір шрифта" натисніть `[+]` 2-3 рази
4. Результат: текст стане більшим, зберігаючи пропорції

### Приклад 2: Приховати санскрит, залишити тільки переклад

1. Відкрийте ⚙️ Settings
2. У секції "Елементи тексту":
   - Вимкнути "Санскрит / Деванагарі"
   - Вимкнути "Транслітерація"
   - Вимкнути "Послівний переклад"
   - Залишити ВКЛ: "Літературний переклад"
3. Результат: видно тільки український переклад

### Приклад 3: Скинути все до початкових налаштувань

1. Відкрийте ⚙️ Settings
2. Прокрутіть вниз
3. Натисніть ⟲ "Скинути до початкових"
4. Результат: всі налаштування повернуться до стандартних

---

## 🐛 ВИРІШЕННЯ ПРОБЛЕМ

### Проблема: Не бачу кнопку ⚙️

**Рішення:**
- Перевірте, чи не закриває її інший елемент
- Спробуйте прокрутити вниз
- Кнопка має бути на `z-index: 40` (поверх контенту)

### Проблема: Зміни не застосовуються

**Рішення:**
1. Оновіть сторінку (Ctrl+F5)
2. Перевірте консоль браузера (F12) на помилки
3. Очистіть кеш браузера

### Проблема: Розміри "стрибають" при зміні розміру вікна

**Це нормально!** 🎯
- Система адаптує базовий розмір до нового екрану
- Ваша корекція (`+2` чи `-1`) зберігається
- Це потрібно для оптимального читання на різних пристроях

---

## 📊 ТЕХНІЧНІ ЗНАЧЕННЯ

### Таблиця розмірів шрифтів

| Екран         | Ширина (px) | Базовий fontSize | Санскрит (×1.5) | Транслітерація (×1.1) |
|---------------|-------------|------------------|-----------------|------------------------|
| **XS Mobile** | <420        | 15px             | 22.5px          | 16.5px                 |
| **Mobile**    | 420-639     | 16px             | 24px            | 17.6px                 |
| **Tablet**    | 640-1023    | 18px             | 27px            | 19.8px                 |
| **Desktop**   | ≥1024       | 20px             | 30px            | 22px                   |

### Множники (з `typography.ts`)

```typescript
FONT_SIZE_MULTIPLIERS = {
  BASE: 1,         // Основний текст
  TRANSLIT: 1.1,   // +10% для транслітерації
  SANSKRIT: 1.5,   // +50% для санскриту
  HEADING: 1.7,    // +70% для заголовків
  SMALL: 0.9,      // -10% для малого тексту
  MEDIUM: 1.1,     // +10% для середнього
}
```

---

## ✅ ПІДСУМОК

**Що змінилося:**
- ✅ Видалено дублювання систем
- ✅ UI контролі тепер працюють з responsive системою
- ✅ Додано інформаційну підказку про адаптивність
- ✅ Всі налаштування синхронізуються автоматично

**Де знаходяться контролі:**
- 🎛️ Кнопка ⚙️ у правому нижньому куті
- 🎯 Панель справа з усіма налаштуваннями

**Головна перевага:**
- 📱 Адаптивність працює автоматично
- ⚙️ Ви контролюєте корекцію, а не абсолютні значення
- 🔄 Зміни зберігаються між сесіями

---

**Готово!** Тепер все працює як треба 🎉
