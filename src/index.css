@import "./styles/fonts.css";
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   VEDAVOICE.ORG — Духовна практика в цифровому форматі
   Читай | Слухай | REPEAT
   ========================================== */

/* =========================
   STICKY HEADER - ГАРАНТОВАНИЙ
   ========================= */
.site-header {
  position: -webkit-sticky !important; /* Safari prefix ПЕРЕД стандартним */
  position: sticky !important;
  top: 0 !important;
  z-index: 50 !important;
}

/* =========================
   ДИЗАЙН-ГАЙДЛАЙН: БЕЗ КАРТОК І ВІЗУАЛЬНОГО ШУМУ
   =========================

   ВАЖЛИВО: Єдине місце де можуть бути картки — це бібліотека з обкладинками книжок!

   НЕ використовуємо:
   - Card компоненти (окрім обкладинок книг)
   - border (рамки)
   - shadow (тіні)
   - rounded з background (сірі блоки)
   - лінії-розділювачі (border-t, border-b, тощо)

   Використовуємо замість цього:
   - Чистий текст на прозорому фоні (bg-background)
   - Типографічну ієрархію (розміри шрифтів, жирність)
   - Простір (margin, padding) для візуального розділення

   Причина: краще читання без візуального шуму, як у книжці.
   ========================= */

/* =========================
   ШРИФТОВІ СТЕКИ ВБ
   ========================= */
:root {
  /* Основний текст (кирилиця + латиниця) - Noto Serif variable 100-900 */
  --font-primary: "Noto Serif", Georgia, serif;

  /* Транслітерація (verse text) - Charis SIL для ідеальної підтримки комбінуючих діакритичних знаків
     Charis SIL має smart font routines для автоматичного позиціонування діакритики */
  --font-translit: "Charis SIL", "Gentium Plus", "Noto Serif", serif;

  /* Транслітерація в блозі - Charis SIL для української транслітерації з діакритикою */
  --font-blog-translit: "Charis SIL", "Gentium Plus", "Spectral", serif;

  /* Деванагарі (देवनागरी) - Noto Sans з Devanagari підтримкою */
  --font-devanagari: "Noto Sans Devanagari", sans-serif;

  /* Бенгалі (বাংলা) - Noto Serif для транслітерації */
  --font-bengali: "Noto Serif", serif;

  /* Послівний переклад (synonyms) - Charis SIL для діакритичних знаків */
  --font-synonyms: "Charis SIL", "Gentium Plus", "Noto Serif", serif;

  /* UI (інтерфейс) */
  --font-ui: sans-serif;

  /* Blog typography (Substack-style) */
  --font-blog-body: "Spectral", Georgia, serif;
  --font-blog-heading: "Spectral", Georgia, serif;
}

/* =========================
   РОЗМІРИ ЧИТАЛКИ

   АРХІТЕКТУРА ДИНАМІЧНИХ РОЗМІРІВ:

   1. CSS змінні (цей блок):
      - Базові розміри для responsive breakpoints
      - --vv-reader-font-size змінюється на різних екранах

   2. useReaderSettings hook (src/hooks/useReaderSettings.ts):
      - Керує fontSize (12-24px) та lineHeight (1.3-2.0)
      - Синхронізує з localStorage
      - Надає increaseFont/decreaseFont методи

   3. VedaReaderDB компонент:
      - Отримує fontSize з useReaderSettings
      - Передає props в VerseCard/DualLanguageVerseCard

   4. Inline styles в компонентах:
      - Sanskrit: fontSize * 1.5 (наприклад, 18px * 1.5 = 27px)
      - Transliteration: fontSize * 1.1 (наприклад, 18px * 1.1 = 19.8px)
      - Перевизначають CSS класи для динамічної зміни

   ========================= */
:root {
  /* ⚠️ ВАЖЛИВО: Ця змінна АВТОМАТИЧНО оновлюється через useReaderSettings
     НЕ змінюйте це значення напряму - воно керується JavaScript
     Значення адаптується до розміру екрану: 15px (XS) → 16px (Mobile) → 18px (Tablet) → 20px (Desktop) */
  --vv-reader-font-size: 18px; /* базове значення, перевизначається useReaderSettings */
  --vv-reader-line-height: 1.75; /* 1.75 для кращої читабельності */
  --vv-reader-max-width: 42rem; /* ~65 characters optimal line length */

  /* Деванагарі */
  --sanskrit-font-size: 1.125em; /* Mobile: em-text-lg */
  --sanskrit-line-height: 1.618; /* golden ratio */

  /* Трансліт - em-text-base (1em) */
  --translit-font-size: 1em; /* 1 * 18px = 18px (перевизначається inline styles) */
  --translit-line-height: 1.618;

  /* Послівний - text-base (1rem) */
  --synonyms-font-size: 1rem; /* 18px */
  --synonyms-line-height: 1.75;

  /* Пояснення - text-base (1rem) */
  --commentary-font-size: 1rem; /* 18px */
  --commentary-line-height: 1.75;

  /* Заголовки секцій - text-xl → lg:text-2xl */
  --section-header-font-size: 1.25rem; /* 20px на mobile */
  --section-header-font-size-lg: 1.5rem; /* 24px на desktop */

  /* Радіуси */
  --radius: 0.75rem;
}

/* =========================
   ТЕМИ: LIGHT (Теплий Крем)
   ========================= */
:root {
  /* Фон: теплий крем замість чистого білого */
  --background: 40 60% 96%;
  --foreground: 30 30% 20%;

  /* Картки: ще світліший крем */
  --card: 40 55% 98%;
  --card-foreground: 30 30% 20%;

  /* Popover */
  --popover: 40 55% 98%;
  --popover-foreground: 30 30% 20%;

  /* Primary: бурштин */
  --primary: 33 76% 42%;
  --primary-foreground: 48 100% 98%;
  --primary-hover: 33 76% 38%;

  /* Secondary */
  --secondary: 38 35% 92%;
  --secondary-foreground: 30 30% 25%;

  /* Muted */
  --muted: 38 30% 92%;
  --muted-foreground: 30 20% 45%;

  /* Accent: теплий золотистий */
  --accent: 38 70% 50%;
  --accent-foreground: 40 10% 98%;

  /* Destructive */
  --destructive: 0 72% 51%;
  --destructive-foreground: 48 100% 98%;

  /* Бордери: ледь помітні */
  --border: 38 25% 88%;
  --input: 38 25% 88%;
  --ring: 33 76% 42%;

  color-scheme: light;
}

/* =========================
   ТЕМИ: DARK (Теплий Темний)
   ========================= */
html.dark {
  /* Фон: теплий темний, не холодний сірий */
  --background: 30 15% 12%;
  --foreground: 40 40% 88%;

  /* Картки */
  --card: 30 18% 15%;
  --card-foreground: 40 40% 88%;

  /* Popover */
  --popover: 30 18% 15%;
  --popover-foreground: 40 40% 88%;

  /* Primary: золотистий */
  --primary: 38 80% 55%;
  --primary-foreground: 30 10% 10%;
  --primary-hover: 38 80% 50%;

  /* Secondary */
  --secondary: 28 20% 22%;
  --secondary-foreground: 40 35% 85%;

  /* Muted */
  --muted: 28 20% 22%;
  --muted-foreground: 38 25% 65%;

  /* Accent */
  --accent: 38 75% 50%;
  --accent-foreground: 30 10% 10%;

  /* Destructive */
  --destructive: 0 62% 45%;
  --destructive-foreground: 40 35% 95%;

  /* Бордери */
  --border: 28 18% 25%;
  --input: 28 18% 25%;
  --ring: 38 80% 55%;

  color-scheme: dark;
}

/* =========================
   ТЕМИ: CRAFT (Папір з фактурою)
   ========================= */
html.craft {
  --background: 39 58% 86%;
  --foreground: 26 36% 16%;

  --card: 39 58% 86%;
  --card-foreground: 26 36% 16%;

  --popover: 39 58% 86%;
  --popover-foreground: 26 36% 16%;

  --border: 35 28% 78%;
  --input: 35 28% 78%;

  --muted: 36 25% 84%;
  --muted-foreground: 26 22% 38%;

  --secondary: 36 30% 90%;
  --secondary-foreground: 26 34% 22%;

  --primary: 33 76% 42%;
  --primary-foreground: 48 100% 98%;
  --primary-hover: 33 76% 38%;

  --accent: 31 70% 40%;
  --accent-foreground: 48 100% 98%;

  --destructive: 8 74% 46%;
  --destructive-foreground: 48 100% 98%;

  --ring: 33 76% 42%;

  color-scheme: light;

  /* Фактурний фон */
  background-color: hsl(var(--background));
  background-image: radial-gradient(hsl(0 0% 0% / 0.035) 1px, transparent 1px);
  background-size: 16px 16px;
}

/* =========================
   ТЕМИ: SEPIA (Ностальгія)
   ========================= */
html.sepia {
  --background: 40 30% 85%;
  --foreground: 30 40% 25%;

  --card: 40 28% 88%;
  --card-foreground: 30 40% 25%;

  --popover: 40 28% 88%;
  --popover-foreground: 30 40% 25%;

  --muted: 38 25% 80%;
  --muted-foreground: 32 30% 40%;

  --secondary: 38 28% 82%;
  --secondary-foreground: 30 38% 28%;

  /* Accent: іржастий */
  --accent: 20 60% 45%;
  --accent-foreground: 40 25% 95%;

  --primary: 25 55% 40%;
  --primary-foreground: 40 25% 95%;
  --primary-hover: 25 55% 35%;

  --destructive: 0 65% 48%;
  --destructive-foreground: 40 25% 95%;

  --border: 38 20% 75%;
  --input: 38 20% 75%;
  --ring: 25 55% 40%;

  color-scheme: light;
}

/* =========================
   ТЕМИ: SOLARIZED LIGHT
   Класична тема для тривалого читання
   ========================= */
html.solarized-light {
  --background: 44 87% 94%;
  --foreground: 192 81% 14%;

  --card: 44 87% 94%;
  --card-foreground: 192 81% 14%;

  --popover: 44 87% 94%;
  --popover-foreground: 192 81% 14%;

  --muted: 46 42% 88%;
  --muted-foreground: 194 14% 40%;

  --secondary: 46 42% 88%;
  --secondary-foreground: 192 81% 14%;

  --primary: 18 89% 55%;
  --primary-foreground: 44 87% 94%;
  --primary-hover: 18 89% 50%;

  --accent: 175 59% 40%;
  --accent-foreground: 44 87% 94%;

  --destructive: 1 71% 52%;
  --destructive-foreground: 44 87% 94%;

  --border: 46 42% 84%;
  --input: 46 42% 84%;
  --ring: 18 89% 55%;

  color-scheme: light;
}

/* =========================
   ТЕМИ: SOLARIZED DARK
   Темна версія Solarized
   ========================= */
html.solarized-dark {
  --background: 192 100% 11%;
  --foreground: 44 87% 94%;

  --card: 192 81% 14%;
  --card-foreground: 44 87% 94%;

  --popover: 192 81% 14%;
  --popover-foreground: 44 87% 94%;

  --muted: 194 14% 20%;
  --muted-foreground: 186 8% 55%;

  --secondary: 194 14% 20%;
  --secondary-foreground: 44 87% 94%;

  --primary: 18 89% 55%;
  --primary-foreground: 192 100% 11%;
  --primary-hover: 18 89% 50%;

  --accent: 175 59% 40%;
  --accent-foreground: 192 100% 11%;

  --destructive: 1 71% 52%;
  --destructive-foreground: 44 87% 94%;

  --border: 194 14% 25%;
  --input: 194 14% 25%;
  --ring: 18 89% 55%;

  color-scheme: dark;
}

/* =========================
   ТЕМИ: NORD
   Арктична, приємна для очей
   ========================= */
html.nord {
  --background: 220 16% 22%;
  --foreground: 218 27% 92%;

  --card: 220 16% 26%;
  --card-foreground: 218 27% 92%;

  --popover: 220 16% 26%;
  --popover-foreground: 218 27% 92%;

  --muted: 220 16% 30%;
  --muted-foreground: 219 28% 70%;

  --secondary: 220 16% 30%;
  --secondary-foreground: 218 27% 92%;

  --primary: 179 25% 65%;
  --primary-foreground: 220 16% 22%;
  --primary-hover: 179 25% 60%;

  --accent: 193 43% 67%;
  --accent-foreground: 220 16% 22%;

  --destructive: 354 42% 56%;
  --destructive-foreground: 218 27% 92%;

  --border: 220 16% 32%;
  --input: 220 16% 32%;
  --ring: 179 25% 65%;

  color-scheme: dark;
}

/* =========================
   ТЕМИ: HIGH CONTRAST
   Максимальний контраст для доступності
   ========================= */
html.high-contrast {
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;

  --card: 0 0% 5%;
  --card-foreground: 0 0% 100%;

  --popover: 0 0% 5%;
  --popover-foreground: 0 0% 100%;

  --muted: 0 0% 15%;
  --muted-foreground: 0 0% 80%;

  --secondary: 0 0% 15%;
  --secondary-foreground: 0 0% 100%;

  --primary: 60 100% 50%;
  --primary-foreground: 0 0% 0%;
  --primary-hover: 60 100% 45%;

  --accent: 180 100% 50%;
  --accent-foreground: 0 0% 0%;

  --destructive: 0 100% 50%;
  --destructive-foreground: 0 0% 100%;

  --border: 0 0% 40%;
  --input: 0 0% 40%;
  --ring: 60 100% 50%;

  color-scheme: dark;

  /* Збільшуємо розмір тексту для кращої читабельності */
  --vv-reader-font-size: 20px;
  --vv-reader-line-height: 1.8;
}

/* =========================
   БАЗОВІ СТИЛІ
   ========================= */
html,
body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: var(--font-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Запобігання горизонтальному скролу на мобільних
     ВАЖЛИВО: overflow-x: clip замість hidden, бо hidden ламає position: sticky! */
  overflow-x: clip;
  max-width: 100vw;
}

/* Контейнер #root - також запобігаємо overflow
   ВАЖЛИВО: overflow-x: clip замість hidden, бо hidden ламає position: sticky! */
#root {
  overflow-x: clip;
  max-width: 100vw;
  /* iOS/Android Safe Area - для notch, home indicator, Dynamic Island */
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  /* Мінімальна висота для повного екрану */
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height для iOS Safari */
}

/* =========================
   TIPTAP РЕДАКТОР (ЗАХИСТ ВІД ЗОВНІШНІХ СТИЛІВ)
   ========================= */

/* ProseMirror контейнер - основний елемент TipTap редактора */
.ProseMirror {
  /* Скидаємо успадковані стилі від prose-reader */
  font-size: 1rem !important;
  line-height: 1.5 !important;

  /* Базові стилі редактора */
  outline: none;
  min-height: inherit;
  padding: inherit;
}

/* Параграфи в редакторі НЕ повинні успадковувати стилі prose-reader */
.ProseMirror p {
  font-size: 1rem !important;
  line-height: 1.5 !important;
  margin: 0.75em 0 !important;
}

/* Списки в редакторі */
.ProseMirror ul,
.ProseMirror ol {
  font-size: 1rem !important;
  line-height: 1.5 !important;
  margin: 0.75em 0 !important;
  padding-left: 1.5em !important;
}

.ProseMirror li {
  font-size: 1rem !important;
  line-height: 1.5 !important;
  margin: 0.25em 0 !important;
}

/* Заголовки в редакторі */
.ProseMirror h1 {
  font-size: 2em !important;
  line-height: 1.2 !important;
  margin: 0.75em 0 0.5em !important;
  font-weight: 700 !important;
}

.ProseMirror h2 {
  font-size: 1.5em !important;
  line-height: 1.3 !important;
  margin: 0.75em 0 0.5em !important;
  font-weight: 700 !important;
}

.ProseMirror h3 {
  font-size: 1.25em !important;
  line-height: 1.4 !important;
  margin: 0.75em 0 0.5em !important;
  font-weight: 600 !important;
}

/* Цитати в редакторі */
.ProseMirror blockquote {
  border-left: 3px solid hsl(var(--border));
  padding-left: 1em;
  margin: 1em 0;
  font-style: italic;
  color: hsl(var(--muted-foreground));
}

/* Код в редакторі */
.ProseMirror code {
  background: hsl(var(--muted));
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-family: monospace;
  font-size: 0.9em;
}

.ProseMirror pre {
  background: hsl(var(--muted));
  padding: 1em;
  border-radius: 6px;
  overflow-x: auto;
  margin: 1em 0;
}

.ProseMirror pre code {
  background: transparent;
  padding: 0;
}

/* Placeholder */
.ProseMirror p.is-editor-empty:first-child::before {
  color: hsl(var(--muted-foreground));
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

/* Захист від prose-reader для вкладених елементів */
.prose-reader .ProseMirror p,
.prose-reader .ProseMirror li,
.prose-reader .ProseMirror h1,
.prose-reader .ProseMirror h2,
.prose-reader .ProseMirror h3 {
  font-size: inherit !important;
  line-height: inherit !important;
}

/* =========================
   АДАПТИВНІСТЬ
   ========================= */

/* Desktop (>1024px) */
@media (min-width: 1024px) {
  :root {
    --vv-reader-font-size: 20px; /* збільшено для десктопу */
    --sanskrit-font-size: 1.875em; /* Desktop: em-text-3xl (1.875 * 20px = 37.5px) */
    --translit-font-size: 1.25em; /* Desktop: em-text-xl (1.25 * 20px = 25px) */
    --synonyms-font-size: 1.125rem; /* lg:text-lg = 22.5px */
    --commentary-font-size: 1.125rem; /* lg:text-lg = 22.5px */
    --section-header-font-size-lg: 1.5rem; /* 30px для заголовків */
    --vv-reader-line-height: 1.75;
    --vv-reader-max-width: 42rem;
  }

  .verse-surface {
    padding: 3rem 2.5rem;
  }
}

/* Tablet (640-1023px) - sm to md breakpoint */
@media (min-width: 640px) and (max-width: 1023px) {
  :root {
    --vv-reader-font-size: 18px; /* базовий */
    --sanskrit-font-size: 1.5em; /* 27px */
    --translit-font-size: 1em; /* 18px */
    --synonyms-font-size: 1rem; /* 18px */
    --commentary-font-size: 1rem; /* 18px */
    --section-header-font-size: 1.25rem; /* 22.5px */
    --vv-reader-line-height: 1.75;
  }

  .verse-surface {
    padding: 2rem 1.5rem;
  }
}

/* Mobile (<640px) */
@media (max-width: 639px) {
  :root {
    --vv-reader-font-size: 16px; /* трохи менше для мобільних */
    --sanskrit-font-size: 1.375em; /* 22px - більше ніж було */
    --translit-font-size: 1em; /* 16px */
    --synonyms-font-size: 1rem; /* 16px */
    --commentary-font-size: 1rem; /* 16px */
    --section-header-font-size: 1.125rem; /* 18px */
    --vv-reader-line-height: 1.75;
  }

  .verse-surface {
    padding: 1.5rem 1rem;
  }

  .sanskrit-block {
    padding: 1.5rem 1rem;
  }

  .translit-block {
    padding: 1rem 1rem 1.5rem;
  }

  /* Touch targets - стандарт доступності Apple HIG (44x44px) */
  button,
  a,
  [role="button"],
  input[type="checkbox"],
  input[type="radio"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Винятки для inline посилань у тексті */
  p a,
  span a,
  .prose a {
    min-height: unset;
    min-width: unset;
  }

  /* Збільшуємо tap area для іконок у кнопках */
  button[class*="size-icon"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Секції між віршами */
  .verse-section {
    margin-bottom: 1.5rem;
  }

  /* Послівник - зменшений line-height для мобільних */
  [data-synced-section="synonyms"] {
    line-height: 1.2 !important;
  }
}

/* Дуже маленькі екрани (<420px) - xs breakpoint */
@media (max-width: 419px) {
  :root {
    --vv-reader-font-size: 15px;
    --sanskrit-font-size: 1.25em; /* 18.75px - більше */
    --translit-font-size: 0.9375em; /* 14px */
    --synonyms-font-size: 0.9375rem; /* 14px */
    --commentary-font-size: 0.9375rem; /* 14px */
    --section-header-font-size: 1.0625rem; /* 16px */
  }

  .verse-surface {
    padding: 1rem 0.75rem;
  }

  .sanskrit-block {
    padding: 1rem 0.75rem;
  }
}

/* =========================
   АУДІО КНОПКИ
   ========================= */

.audio-button {
  min-width: 48px;
  min-height: 48px;
  border-radius: 50%;
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.audio-button:hover {
  background: hsl(var(--accent) / 0.1);
  transform: scale(1.05);
}

.audio-button:active {
  transform: scale(0.95);
}

.audio-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* =========================
   TEXTAREA ТРАНСЛІТЕРАТОРА
   ========================= */

/* Базові стилі для всіх textarea в транслітераторі */
/* ⚠️ ВАЖЛИВО: !important потрібен щоб перевизначити Tailwind text-sm з Textarea компонента */
textarea.iast-text,
textarea.devanagari-text,
textarea.bengali-text,
textarea.transliteration-output {
  font-size: 1.125rem !important; /* 18px - перевизначає Tailwind text-sm */
  line-height: 1.6 !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* IAST (латиниця з діакритикою) */
textarea.iast-text {
  font-family: "Noto Serif", serif !important;
  font-weight: 400;
}

/* Деванагарі */
textarea.devanagari-text {
  font-family: "Noto Sans Devanagari", sans-serif !important;
  font-weight: 400;
}

/* Бенгалі */
textarea.bengali-text {
  font-family: "Noto Serif", serif !important;
  font-weight: 400;
}

/* Вихідний текст (українська кирилиця з діакритикою) */
textarea.transliteration-output {
  font-family: "Noto Serif", serif !important;
  font-weight: 400;
}

/* =========================
   TRANSLITERATION LINES
   ========================= */

/* Кожен рядок транслітерації на окремому рядку */
.transliteration-lines .line {
  display: block;
  margin-bottom: 0.25em;
}

/* =========================
   UTILITY CLASSES
   ========================= */

.brand-gradient {
  background: linear-gradient(135deg, hsl(33, 76%, 42%) 0%, hsl(38, 80%, 55%) 100%);
}

.text-balance {
  text-wrap: balance;
}

.smooth-transition {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* =========================
   DROP CAP для коментарів
   ========================= */

.drop-cap {
  float: left;
  font-size: 3.5em;
  line-height: 0.8;
  padding-right: 8px;
  padding-top: 4px;
  color: hsl(var(--primary));
  font-weight: bold;
  font-family: serif;
}

/* Забезпечуємо успадкування font-size в HTML контенті */
div[style*="fontSize"] *,
p[style*="fontSize"] * {
  font-size: inherit;
  line-height: inherit;
}

/* Виключення для drop-cap - він має власний розмір та колір */
div[style*="fontSize"] .drop-cap,
p[style*="fontSize"] .drop-cap {
  font-size: 3.5em;
  line-height: 0.8;
  color: hsl(var(--primary));
}

/* =========================
   PURPORT STYLING
   ========================= */

/* Заголовок "КОМЕНТАР" / "ПОЯСНЕННЯ" */
.purport-title {
  font-weight: bold;
  text-align: center;
  letter-spacing: 0.1em;
  margin: 1.5em 0 1em 0;
  font-size: inherit;
}

/* Параграфи пояснення */
.purport {
  text-align: left;
  margin-bottom: 1em;
  text-indent: 25px;
  font-size: inherit;
  line-height: inherit;
}

.purport em {
  font-style: italic;
}

.purport strong {
  font-weight: bold;
}

/* Перший параграф - без відступу (бо є drop cap) */
.purport.first {
  text-indent: 0;
}

/* Цитати всередині пояснення - відцентровані */
.verse-quote,
blockquote.verse-quote {
  text-align: center;
  font-style: italic;
  margin: 1.5em 2em;
  padding: 1em;
  border-left: 3px solid hsl(var(--primary) / 0.5);
  background: hsl(var(--muted) / 0.3);
  border-radius: 0 0.5em 0.5em 0;
}

/* Завершальний параграф */
.purport-outro {
  text-align: center;
  font-style: italic;
  margin-top: 2em;
  color: hsl(var(--muted-foreground));
}

/* Нумеровані списки в поясненні */
.purport-list {
  list-style-type: decimal;
  list-style-position: outside;
  margin: 1em 0 1em 2em;
  padding-left: 0.5em;
}

.purport-list li {
  text-align: justify;
  margin-bottom: 0.75em;
  padding-left: 0.5em;
}

/* =========================
   СКИДАННЯ VITE СТИЛІВ
   ========================= */

:where(#root, .logo, .read-the-docs) {
  all: unset;
}

@keyframes logo-spin {
  from {
    transform: none;
  }
  to {
    transform: none;
  }
}

/* =========================
   MOBILE SAFE MODE
   Вимикає складні ефекти для старих телефонів
   ========================= */
[data-mobile-safe-mode="true"] {
  /* Вимикаємо backdrop-blur всюди */
  .backdrop-blur,
  .backdrop-blur-sm,
  .backdrop-blur-md,
  .backdrop-blur-lg,
  .backdrop-blur-xl,
  [class*="backdrop-blur"] {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }

  /* Вимикаємо складні тіні */
  .shadow-glow,
  [class*="shadow-glow"] {
    box-shadow: none !important;
  }

  /* Спрощуємо градієнти на фоні */
  .bg-gradient-to-br,
  .bg-gradient-to-r,
  .bg-gradient-to-b,
  [class*="bg-gradient"] {
    background-image: none !important;
    background-color: hsl(var(--background)) !important;
  }

  /* Вимикаємо анімації розмиття */
  * {
    filter: none !important;
  }

  /* Замінюємо напівпрозорі фони на solid */
  .bg-background\/80,
  .bg-background\/90,
  .bg-card\/80,
  .bg-card\/90,
  [class*="\/80"],
  [class*="\/90"] {
    opacity: 1 !important;
  }

  /* Спрощуємо sticky headers */
  .sticky {
    background-color: hsl(var(--background)) !important;
  }
}

/* =========================
   SAFE AREA UTILITIES
   Для iOS notch, Dynamic Island, home indicator
   Для Android edge-to-edge mode
   ========================= */

/* Fixed bottom elements need safe-area padding */
.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-top {
  padding-top: env(safe-area-inset-top);
}

.safe-left {
  padding-left: env(safe-area-inset-left);
}

.safe-right {
  padding-right: env(safe-area-inset-right);
}

/* For fixed elements - position offset instead of padding */
.fixed-safe-bottom {
  bottom: env(safe-area-inset-bottom);
}

.fixed-safe-top {
  top: env(safe-area-inset-top);
}

/* Capacitor/Cordova specific - iOS keyboard handling */
body.keyboard-open {
  --keyboard-height: var(--keyboard-height, 0px);
}

/* iOS specific: prevent rubber-banding on fixed elements */
@supports (-webkit-touch-callout: none) {
  .fixed, [class*="fixed"] {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
}

/* Android navigation bar gesture hint area */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .gesture-safe {
    padding-bottom: max(env(safe-area-inset-bottom), 8px);
  }
}

/* =========================
   FULLSCREEN READING MODE
   Ховає header і допоміжні елементи
   ========================= */
[data-fullscreen-reading="true"] {
  /* Ховаємо header */
  .site-header {
    display: none !important;
  }

  /* Ховаємо глобальні елементи */
  .global-settings-btn,
  .global-audio-player {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  /* Показуємо при hover */
  &:hover .global-settings-btn,
  &:hover .global-audio-player {
    opacity: 1;
    pointer-events: auto;
  }
}

/* =========================
   ZEN MODE
   Максимальний фокус на тексті - ховає ВСЕ окрім самого контенту
   ========================= */
[data-zen-mode="true"] {
  /* Ховаємо все */
  .site-header,
  .global-settings-btn,
  .global-audio-player,
  [data-minimap="true"],
  .sticky,
  nav,
  footer,
  .breadcrumb,
  .zen-hide {
    display: none !important;
  }

  /* М'який фон для читання */
  body {
    background-color: hsl(var(--background));
  }

  /* Центруємо текст з великими відступами - ТІЛЬКИ для читача */
  [data-reader-root="true"] {
    max-width: 42rem;
    padding-top: 3rem;
    padding-bottom: 3rem;
  }

  /* На десктопі в двомовному режимі робимо колонки вдвічі ширшими */
  @media (min-width: 1024px) {
    [data-reader-root="true"] {
      max-width: 84rem;
    }
  }

  /* Прибираємо зайві елементи в VerseCard */
  .verse-navigation,
  .verse-actions,
  .verse-audio-controls,
  button:not(.zen-exit-btn) {
    display: none !important;
  }

  /* Стилі для тексту в zen mode */
  .verse-surface {
    box-shadow: none;
    border: none;
    background: transparent;
    padding: 2rem 0;
  }

  /* Плавна анімація появи */
  * {
    animation: zen-fade-in 0.5s ease;
  }
}

@keyframes zen-fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* =========================
   PRESENTATION MODE
   Для показу на проекторі/телевізорі
   Великий шрифт, центрований вірш
   ========================= */
[data-presentation-mode="true"] {
  /* Ховаємо все окрім презентації */
  .site-header,
  .global-settings-btn,
  .global-audio-player,
  [data-minimap="true"],
  .sticky,
  nav,
  footer,
  .breadcrumb,
  .mobile-tab-bar {
    display: none !important;
  }

  /* Темний фон для кращого контрасту на проекторі */
  body {
    background-color: hsl(var(--background));
    min-height: 100vh;
    /* Дозволяємо вертикальну прокрутку для довгого контенту */
    overflow-x: hidden;
    overflow-y: auto;
    /* Вмикаємо touch scrolling для мобільних */
    -webkit-overflow-scrolling: touch;
  }

  /* Контейнер на весь екран - ТІЛЬКИ для читача, не для всього сайту */
  [data-reader-root="true"],
  .presentation-container {
    max-width: 100%;
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: 2rem 4rem;
    /* Дозволяємо прокрутку якщо контент не вміщається */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Збільшений шрифт для презентації */
  .verse-surface,
  .presentation-verse {
    font-size: calc(var(--vv-reader-font-size, 18px) * 1.5) !important;
    line-height: 1.8 !important;
    text-align: center;
    max-width: 90vw;
    padding: 3rem;
    background: transparent;
    box-shadow: none;
    border: none;
  }

  /* Санскрит ще більший */
  .verse-sanskrit,
  .presentation-sanskrit {
    font-size: calc(var(--vv-reader-font-size, 18px) * 2) !important;
    margin-bottom: 2rem;
    color: hsl(var(--primary));
  }

  /* Транслітерація */
  .verse-transliteration,
  .presentation-transliteration {
    font-size: calc(var(--vv-reader-font-size, 18px) * 1.3) !important;
    font-style: italic;
    margin-bottom: 1.5rem;
    opacity: 0.9;
  }

  /* Переклад */
  .verse-translation,
  .presentation-translation {
    font-size: calc(var(--vv-reader-font-size, 18px) * 1.4) !important;
    font-weight: 500;
  }

  /* Синоніми - компактніше */
  .verse-synonyms,
  .presentation-synonyms {
    font-size: calc(var(--vv-reader-font-size, 18px) * 1.1) !important;
    opacity: 0.8;
    margin-top: 1.5rem;
  }

  /* Номер вірша */
  .verse-number,
  .presentation-verse-number {
    font-size: calc(var(--vv-reader-font-size, 18px) * 1.2) !important;
    font-weight: bold;
    color: hsl(var(--primary));
    margin-bottom: 1rem;
  }

  /* Ховаємо зайві елементи */
  .verse-navigation,
  .verse-actions,
  .verse-audio-controls,
  button:not(.presentation-exit-btn):not(.presentation-nav-btn) {
    display: none !important;
  }

  /* Навігаційні підказки внизу екрану */
  .presentation-nav-hints {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 3rem;
    opacity: 0.5;
    transition: opacity 0.3s ease;
    font-size: 1rem;
    color: hsl(var(--muted-foreground));
  }

  &:hover .presentation-nav-hints {
    opacity: 1;
  }

  /* Індикатор позиції */
  .presentation-position {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    font-size: 1.2rem;
    opacity: 0.6;
    color: hsl(var(--muted-foreground));
  }

  /* Плавна анімація зміни віршів */
  .presentation-verse-content {
    animation: presentation-slide-in 0.4s ease;
  }
}

@keyframes presentation-slide-in {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Кнопка виходу з presentation mode */
.presentation-exit-btn {
  position: fixed !important;
  top: 1rem;
  right: 1rem;
  z-index: 9999 !important;
  display: flex !important;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: hsl(var(--background) / 0.9);
  border: 1px solid hsl(var(--border));
  color: hsl(var(--foreground));
  cursor: pointer;
  opacity: 0.3;
  transition: opacity 0.3s ease, transform 0.2s ease;
}

.presentation-exit-btn:hover {
  opacity: 1;
  transform: scale(1.1);
}

/* Навігаційні кнопки презентації */
.presentation-nav-btn {
  position: fixed !important;
  top: 50%;
  transform: translateY(-50%);
  z-index: 9998 !important;
  display: flex !important;
  align-items: center;
  justify-content: center;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: hsl(var(--background) / 0.8);
  border: 1px solid hsl(var(--border));
  color: hsl(var(--foreground));
  cursor: pointer;
  opacity: 0.2;
  transition: opacity 0.3s ease, transform 0.2s ease;
}

.presentation-nav-btn:hover {
  opacity: 1;
  transform: translateY(-50%) scale(1.1);
}

.presentation-nav-btn.prev {
  left: 2rem;
}

.presentation-nav-btn.next {
  right: 2rem;
}

/* Кнопка виходу з zen/fullscreen - завжди видима */
.zen-exit-btn,
.fullscreen-exit-btn {
  position: fixed !important;
  top: 1rem;
  right: 1rem;
  z-index: 9999 !important;
  display: flex !important;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: hsl(var(--background) / 0.9);
  border: 1px solid hsl(var(--border));
  color: hsl(var(--foreground));
  cursor: pointer;
  opacity: 0.3;
  transition: opacity 0.3s ease, transform 0.2s ease;
}

.zen-exit-btn:hover,
.fullscreen-exit-btn:hover {
  opacity: 1;
  transform: scale(1.1);
}

/* На мобільних кнопка завжди видима */
@media (max-width: 639px) {
  .zen-exit-btn,
  .fullscreen-exit-btn {
    opacity: 0.7;
  }
}

/* =========================
   MOBILE TAB BAR
   Нижня навігація для мобільних
   ========================= */
.mobile-tab-bar {
  /* Safe area для iPhone з Dynamic Island / Home Indicator */
  padding-bottom: env(safe-area-inset-bottom);
  /* Ефект скла */
  background: hsl(var(--background) / 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Ховаємо tab bar в zen/fullscreen режимах */
[data-zen-mode="true"] .mobile-tab-bar,
[data-fullscreen-reading="true"] .mobile-tab-bar {
  display: none !important;
}

/* Додатковий padding для контенту щоб не перекривався tab bar */
.mobile-layout {
  padding-bottom: calc(4rem + env(safe-area-inset-bottom));
}

/* Анімація активного таба */
.mobile-tab-bar button.text-primary svg {
  animation: tab-bounce 0.3s ease;
}

@keyframes tab-bounce {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05); /* Subtle feedback, not distracting */
  }
}

/* Mobile Safe Mode - спрощений tab bar */
[data-mobile-safe-mode="true"] .mobile-tab-bar {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background: hsl(var(--background)) !important;
}

/* =========================
   AUDIO SYNC HIGHLIGHTING
   Підсвітка тексту під час аудіо
   ========================= */

/* Активний рядок */
.synced-line {
  padding: 0.125rem 0.5rem;
  margin: 0 -0.5rem;
  border-radius: 0.25rem;
  border-left: 3px solid transparent;
  transition: all 0.2s ease;
}

.synced-line-active {
  background: linear-gradient(
    90deg,
    hsl(var(--primary) / 0.15) 0%,
    hsl(var(--primary) / 0.05) 100%
  );
  border-left-color: hsl(var(--primary));
  color: hsl(var(--foreground));
  font-weight: 500;
}

/* Karaoke-style прогрес всередині рядка */
.synced-line-progress {
  background: linear-gradient(
    90deg,
    hsl(var(--primary)) var(--sync-progress, 0%),
    hsl(var(--foreground)) var(--sync-progress, 0%)
  );
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Активна секція */
.synced-section {
  transition: all 0.3s ease;
  border-radius: 0.5rem;
  padding: 0.5rem;
  margin: -0.5rem;
}

.synced-section-active {
  background: hsl(var(--primary) / 0.08);
  box-shadow:
    inset 4px 0 0 hsl(var(--primary)),
    0 0 20px hsl(var(--primary) / 0.1);
}

/* Хвильова анімація для індикатора */
@keyframes wave-1 {
  0%, 100% { height: 40%; }
  50% { height: 80%; }
}

@keyframes wave-2 {
  0%, 100% { height: 70%; }
  50% { height: 40%; }
}

@keyframes wave-3 {
  0%, 100% { height: 100%; }
  50% { height: 60%; }
}

.animate-wave-1 {
  animation: wave-1 0.8s ease-in-out infinite;
}

.animate-wave-2 {
  animation: wave-2 0.8s ease-in-out infinite;
  animation-delay: 0.1s;
}

.animate-wave-3 {
  animation: wave-3 0.8s ease-in-out infinite;
  animation-delay: 0.2s;
}

/* Пульсуючий індикатор активного аудіо */
.audio-playing-indicator {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  background: hsl(var(--primary) / 0.1);
  border-radius: 9999px;
  font-size: 0.75rem;
  color: hsl(var(--primary));
}

.audio-playing-indicator::before {
  content: '';
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 50%;
  background: hsl(var(--primary));
  animation: pulse 1.5s ease-in-out infinite;
}

/* Підсвітка вірша що зараз грає */
.verse-now-playing {
  position: relative;
}

.verse-now-playing::before {
  content: '';
  position: absolute;
  left: -1rem;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(
    180deg,
    hsl(var(--primary)) 0%,
    hsl(var(--primary) / 0.5) 100%
  );
  border-radius: 2px;
  animation: pulse-bar 1.5s ease-in-out infinite;
}

@keyframes pulse-bar {
  0%, 100% {
    opacity: 1;
    transform: scaleY(1);
  }
  50% {
    opacity: 0.7;
    transform: scaleY(0.95);
  }
}

/* Dark mode адаптація */
.dark .synced-line-active {
  background: linear-gradient(
    90deg,
    hsl(var(--primary) / 0.2) 0%,
    hsl(var(--primary) / 0.08) 100%
  );
}

.dark .synced-section-active {
  background: hsl(var(--primary) / 0.12);
}

/* =========================
   BLOG TYPOGRAPHY (Substack-style)
   Мінімалістична типографіка для блогу
   ========================= */

/* Контейнер блогу - центрований з обмеженою шириною */
.blog-container {
  max-width: 680px;
  margin: 0 auto;
  padding: 0 1.5rem;
}

@media (min-width: 768px) {
  .blog-container {
    padding: 0 2rem;
  }
}

/* Основний текст блогу - Spectral як у Substack */
.blog-prose {
  font-family: var(--font-blog-body);
  font-size: 1.125rem; /* 18px */
  line-height: 1.75;
  color: hsl(var(--foreground));
  letter-spacing: -0.003em;
}

@media (min-width: 768px) {
  .blog-prose {
    font-size: 1.25rem; /* 20px на десктопі */
    line-height: 1.8;
  }
}

.blog-prose p {
  margin-bottom: 1.5em;
}

.blog-prose h1,
.blog-prose h2,
.blog-prose h3 {
  font-family: var(--font-blog-heading);
  font-weight: 700;
  line-height: 1.3;
  margin-top: 2em;
  margin-bottom: 0.75em;
}

.blog-prose h1 {
  font-size: 2.25rem;
  letter-spacing: -0.02em;
}

.blog-prose h2 {
  font-size: 1.75rem;
  letter-spacing: -0.015em;
}

.blog-prose h3 {
  font-size: 1.375rem;
  letter-spacing: -0.01em;
}

/* Транслітерація в блозі - ключовий елемент */
/* Charis SIL має smart font routines для правильного позиціонування діакритики */
.blog-translit,
.blog-prose .translit,
.blog-transliteration {
  font-family: var(--font-blog-translit) !important;
  font-style: italic;
  font-weight: 400;
  font-size: 1.15em;
  line-height: 1.7;
  letter-spacing: 0.01em;

  /* Критичні налаштування для діакритичних знаків */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* mark та mkmk - OpenType features для позиціонування комбінуючих діакритичних знаків */
  font-feature-settings: "kern" 1, "liga" 1, "mark" 1, "mkmk" 1;
  font-variant-ligatures: common-ligatures;

  /* Запобігає "розповзанню" анусвари та інших знаків */
  unicode-bidi: isolate;
  white-space: pre-wrap;
  word-break: break-word;
}

/* Санскрит в блозі */
.blog-sanskrit {
  font-family: var(--font-devanagari) !important;
  font-size: 1.4em;
  line-height: 1.6;
  font-weight: 400;
  text-rendering: optimizeLegibility;
}

/* Синоніми/послівний переклад в блозі */
.blog-synonyms {
  font-family: var(--font-blog-translit) !important;
  font-size: 1rem;
  line-height: 1.65;
  letter-spacing: 0;
}

/* =========================
   BLOG EDITOR (Substack-style минімалізм)
   ========================= */

/* Контейнер редактора - чистий, без рамок */
.blog-editor-container {
  max-width: 680px;
  margin: 0 auto;
  padding: 2rem 1.5rem;
}

@media (min-width: 768px) {
  .blog-editor-container {
    padding: 3rem 2rem;
  }
}

/* Мінімалістичний редактор тексту */
.blog-editor .ProseMirror {
  font-family: var(--font-blog-body);
  font-size: 1.125rem;
  line-height: 1.75;
  min-height: 50vh;
  padding: 0;
  outline: none;
  border: none;
}

@media (min-width: 768px) {
  .blog-editor .ProseMirror {
    font-size: 1.25rem;
    line-height: 1.8;
  }
}

.blog-editor .ProseMirror p {
  margin-bottom: 1.25em;
}

.blog-editor .ProseMirror h1 {
  font-family: var(--font-blog-heading);
  font-size: 2.5rem;
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 0.5em;
  letter-spacing: -0.02em;
}

.blog-editor .ProseMirror h2 {
  font-family: var(--font-blog-heading);
  font-size: 1.75rem;
  font-weight: 700;
  line-height: 1.3;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

/* Placeholder в стилі Substack */
.blog-editor .ProseMirror p.is-editor-empty:first-child::before {
  color: hsl(var(--muted-foreground) / 0.5);
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
  font-style: normal;
}

/* Тулбар редактора - мінімалістичний, як у Substack */
.blog-editor-toolbar {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
  padding: 0.75rem 0;
  border-bottom: 1px solid hsl(var(--border) / 0.5);
  margin-bottom: 1.5rem;
  position: sticky;
  top: 0;
  background: hsl(var(--background));
  z-index: 10;
}

.blog-editor-toolbar button {
  padding: 0.5rem;
  border-radius: 0.25rem;
  color: hsl(var(--muted-foreground));
  transition: all 0.15s ease;
}

.blog-editor-toolbar button:hover {
  color: hsl(var(--foreground));
  background: hsl(var(--muted) / 0.5);
}

.blog-editor-toolbar button.is-active {
  color: hsl(var(--foreground));
  background: hsl(var(--muted));
}

/* Поле для транслітерації в редакторі */
.blog-translit-input,
textarea.blog-translit-input {
  font-family: var(--font-blog-translit) !important;
  font-size: 1.25rem !important;
  font-style: italic;
  line-height: 1.7 !important;
  letter-spacing: 0.01em;

  /* Діакритика */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-feature-settings: "kern" 1, "liga" 1;

  /* Стилі поля */
  border: none;
  background: transparent;
  resize: none;
  width: 100%;
  padding: 0.75rem 0;
}

.blog-translit-input:focus {
  outline: none;
  border-bottom: 2px solid hsl(var(--primary) / 0.3);
}

/* Поле для санскриту в редакторі */
.blog-sanskrit-input,
textarea.blog-sanskrit-input {
  font-family: var(--font-devanagari) !important;
  font-size: 1.5rem !important;
  line-height: 1.6 !important;
  border: none;
  background: transparent;
  resize: none;
  width: 100%;
  padding: 0.75rem 0;
}

/* Заголовок поста - великий і чистий */
.blog-title-input {
  font-family: var(--font-blog-heading);
  font-size: 2.5rem;
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.02em;
  border: none;
  background: transparent;
  width: 100%;
  padding: 0;
  margin-bottom: 0.5rem;
}

.blog-title-input::placeholder {
  color: hsl(var(--muted-foreground) / 0.4);
}

.blog-title-input:focus {
  outline: none;
}

/* Підзаголовок */
.blog-subtitle-input {
  font-family: var(--font-blog-body);
  font-size: 1.25rem;
  font-weight: 400;
  line-height: 1.5;
  color: hsl(var(--muted-foreground));
  border: none;
  background: transparent;
  width: 100%;
  padding: 0;
  margin-bottom: 2rem;
}

.blog-subtitle-input::placeholder {
  color: hsl(var(--muted-foreground) / 0.4);
}

.blog-subtitle-input:focus {
  outline: none;
}

@media (min-width: 768px) {
  .blog-title-input {
    font-size: 3rem;
  }

  .blog-subtitle-input {
    font-size: 1.375rem;
  }
}

/* Заголовок блог-поста - Substack style */
.blog-title {
  font-family: var(--font-blog-heading);
  font-size: 2rem;
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.02em;
  color: hsl(var(--foreground));
}

@media (min-width: 768px) {
  .blog-title {
    font-size: 2.75rem;
  }
}

/* Тіло блог-поста - Substack style */
.blog-body {
  font-family: var(--font-blog-body);
  font-size: 1.125rem;
  line-height: 1.75;
  color: hsl(var(--foreground));
  letter-spacing: -0.003em;
}

@media (min-width: 768px) {
  .blog-body {
    font-size: 1.25rem;
    line-height: 1.8;
  }
}

.blog-body p {
  margin-bottom: 1.5em;
}

/* Транслітерація в blog-body наслідує Spectral */
.blog-body .translit,
.blog-body .iast-text,
.blog-body .transliteration {
  font-family: var(--font-blog-translit) !important;
  font-style: italic;
  font-weight: 400;
  text-rendering: optimizeLegibility;
  font-feature-settings: "kern" 1, "liga" 1;
}

/* =========================
   REDUCED MOTION (Accessibility)
   Вимикає анімації для користувачів з вестибулярними розладами
   ========================= */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Залишаємо тільки критичні переходи */
  .smooth-transition {
    transition: none !important;
  }

  /* Вимикаємо всі keyframe анімації */
  .animate-wave-1,
  .animate-wave-2,
  .animate-wave-3,
  .audio-playing-indicator::before,
  .verse-now-playing::before {
    animation: none !important;
  }
}
