# üìö –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: –Ü–º–ø–æ—Ä—Ç ≈örƒ´mad-BhƒÅgavatam –∑ EPUB

## ‚úÖ –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± (–†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û)

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
# –°–∫–æ–ø—ñ—é–π—Ç–µ –∑ .env —Ñ–∞–π–ª—É –∞–±–æ Supabase Dashboard
export SUPABASE_URL='https://your-project.supabase.co'
export SUPABASE_SERVICE_KEY='eyJ...'  # service_role key (–ù–ï anon key!)
```

### –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç —ñ–º–ø–æ—Ä—Ç—É

```bash
./import_sb_cantos.sh
```

### –ö—Ä–æ–∫ 3: –û–±–µ—Ä—ñ—Ç—å –æ–ø—Ü—ñ—é –∑ –º–µ–Ω—é

```
–û–±–µ—Ä—ñ—Ç—å, —â–æ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏:

  1) –ü—ñ—Å–Ω—è 2 (10 –≥–ª–∞–≤)
  2) –ü—ñ—Å–Ω—è 3 (33 –≥–ª–∞–≤–∏)
  3) –û–±–∏–¥–≤—ñ –ø—ñ—Å–Ω—ñ (2 + 3)
  4) –°—É—Ö–∞ –ø—Ä–æ–≥–æ–Ω–∫–∞ (dry-run) –ü—ñ—Å–Ω—ñ 2
  5) –°—É—Ö–∞ –ø—Ä–æ–≥–æ–Ω–∫–∞ (dry-run) –ü—ñ—Å–Ω—ñ 3
  6) –í–∏—Ö—ñ–¥

–í–∞—à –≤–∏–±—ñ—Ä (1-6):
```

**–£–í–ê–ì–ê**: –û–ø—Ü—ñ—ó 4-5 (dry-run) **–Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –¥–∞–Ω—ñ –≤ –ë–î**, —Ç—ñ–ª—å–∫–∏ —Ç–µ—Å—Ç—É—é—Ç—å –ø–∞—Ä—Å–∏–Ω–≥!

---

## üîß –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ (–¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)

### –¢–µ—Å—Ç –±–µ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (dry-run):

```bash
# –ü—ñ—Å–Ω—è 2
python3 import_sb_epub.py \
  --epub UK_SB_2_epub_r2.epub \
  --canto 2 \
  --chapters 1-10 \
  --dry-run \
  --skip-vedabase

# –ü—ñ—Å–Ω—è 3
python3 import_sb_epub.py \
  --epub UK_SB_3_epub_r1.epub \
  --canto 3 \
  --chapters 1-33 \
  --dry-run \
  --skip-vedabase
```

### –Ü–º–ø–æ—Ä—Ç –∑ Vedabase (–∞–Ω–≥–ª—ñ–π—Å—å–∫—ñ –¥–∞–Ω—ñ):

```bash
# –ü—ñ—Å–Ω—è 2 –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∑ Vedabase
python3 import_sb_epub.py \
  --epub UK_SB_2_epub_r2.epub \
  --canto 2 \
  --chapters 1-10

# –ü—ñ—Å–Ω—è 3 –∑ –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∑ Vedabase
python3 import_sb_epub.py \
  --epub UK_SB_3_epub_r1.epub \
  --canto 3 \
  --chapters 1-33
```

### –Ü–º–ø–æ—Ä—Ç —Ç—ñ–ª—å–∫–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –¥–∞–Ω–∏—Ö (–±–µ–∑ Vedabase):

```bash
# –®–≤–∏–¥—à–µ, —è–∫—â–æ –∞–Ω–≥–ª—ñ–π—Å—å–∫—ñ –¥–∞–Ω—ñ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ
python3 import_sb_epub.py \
  --epub UK_SB_2_epub_r2.epub \
  --canto 2 \
  --chapters 1-10 \
  --skip-vedabase
```

### –Ü–º–ø–æ—Ä—Ç –æ–∫—Ä–µ–º–æ—ó –≥–ª–∞–≤–∏:

```bash
# –¢—ñ–ª—å–∫–∏ –≥–ª–∞–≤–∞ 17 –∑ –ü—ñ—Å–Ω—ñ 3
python3 import_sb_epub.py \
  --epub UK_SB_3_epub_r1.epub \
  --canto 3 \
  --chapters 17
```

### –Ü–º–ø–æ—Ä—Ç –¥—ñ–∞–ø–∞–∑–æ–Ω—É –≥–ª–∞–≤:

```bash
# –ì–ª–∞–≤–∏ 17-20 –∑ –ü—ñ—Å–Ω—ñ 3
python3 import_sb_epub.py \
  --epub UK_SB_3_epub_r1.epub \
  --canto 3 \
  --chapters 17-20
```

---

## üìä –©–æ —ñ–º–ø–æ—Ä—Ç—É—î—Ç—å—Å—è?

### –ó EPUB (100% —è–∫—ñ—Å—Ç—å):
- ‚úÖ **Sanskrit** (Devanagari)
- ‚úÖ **Transliteration UA** (—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ —Ç—Ä–∞–Ω—Å–ª—ñ—Ç–µ—Ä–∞—Ü—ñ—è)
- ‚úÖ **Synonyms UA** (–ø–æ—Å–ª—ñ–≤–Ω–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é)
- ‚úÖ **Translation UA** (–ø–µ—Ä–µ–∫–ª–∞–¥ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é)
- ‚úÖ **Commentary UA** (–ø–æ—è—Å–Ω–µ–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é)

### –ó Vedabase (—è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ `--skip-vedabase`):
- ‚úÖ **Transliteration EN** (IAST)
- ‚úÖ **Synonyms EN** (word-for-word)
- ‚úÖ **Translation EN** (translation)
- ‚úÖ **Commentary EN** (purport)
- ‚úÖ **Title EN** (chapter title)

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è SERVICE_KEY –∑ Supabase:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É Supabase Dashboard
2. Project Settings ‚Üí API
3. –°–∫–æ–ø—ñ—é–π—Ç–µ **service_role** key (–ù–ï anon key!)
4. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —É –∑–º—ñ–Ω–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
   ```bash
   export SUPABASE_SERVICE_KEY='eyJ...'
   ```

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (—è–∫—â–æ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ):

```bash
pip install ebooklib beautifulsoup4 lxml supabase requests
```

---

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞: "SUPABASE_SERVICE_KEY not set"
```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å service_role key (–ù–ï anon key!)
export SUPABASE_SERVICE_KEY='eyJ...'
```

### –ü–æ–º–∏–ª–∫–∞: "Access denied" –≤—ñ–¥ Supabase
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ anon key –∑–∞–º—ñ—Å—Ç—å service_role key
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ **service_role** key

### –ü–æ–º–∏–ª–∫–∞: "Chapter file not found"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ EPUB —Ñ–∞–π–ª —É –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–æ–º–µ—Ä –ø—ñ—Å–Ω—ñ (canto) - –º–∞—î —Å–ø—ñ–≤–ø–∞–¥–∞—Ç–∏ –∑ —Ñ–∞–π–ª–æ–º

### Vedabase 403 Forbidden
- –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, Vedabase –±–ª–æ–∫—É—î –¥–µ—è–∫—ñ –∑–∞–ø–∏—Ç–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `--skip-vedabase` –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É —Ç—ñ–ª—å–∫–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –¥–∞–Ω–∏—Ö

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
umma-chapter-render/
‚îú‚îÄ‚îÄ UK_SB_2_epub_r2.epub        # –ü—ñ—Å–Ω—è 2 (1.6 MB, 10 –≥–ª–∞–≤)
‚îú‚îÄ‚îÄ UK_SB_3_epub_r1.epub        # –ü—ñ—Å–Ω—è 3 (4.9 MB, 33 –≥–ª–∞–≤–∏)
‚îú‚îÄ‚îÄ import_sb_epub.py           # Python –ø–∞—Ä—Å–µ—Ä
‚îú‚îÄ‚îÄ import_sb_cantos.sh         # –ü—Ä–æ—Å—Ç–∏–π wrapper —Å–∫—Ä–∏–ø—Ç
‚îî‚îÄ‚îÄ IMPORT_GUIDE.md             # –¶—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
```

---

## ‚úÖ –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç (–±–µ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è):
```bash
./import_sb_cantos.sh
# –û–±–µ—Ä—ñ—Ç—å: 4 –∞–±–æ 5
```

### –Ü–º–ø–æ—Ä—Ç –ü—ñ—Å–Ω—ñ 2:
```bash
./import_sb_cantos.sh
# –û–±–µ—Ä—ñ—Ç—å: 1
```

### –Ü–º–ø–æ—Ä—Ç –æ–±–æ—Ö –ø—ñ—Å–µ–Ω—å:
```bash
./import_sb_cantos.sh
# –û–±–µ—Ä—ñ—Ç—å: 3
```

---

**100% —è–∫—ñ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ!** üéâ
